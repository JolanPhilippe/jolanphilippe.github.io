\documentclass[aspectratio=169,10pt]{beamer}

\usetheme[block=fill,progressbar=foot,background=light]{metropolis}   
\setbeamercolor{background canvas}{bg=white}
\usepackage{appendixnumberbeamer}

\title{Introduction au DevOps}
\subtitle{Introduction}
\date{12 Septembre 2025}
\author{Jolan PHILIPPE}
\institute{Université d'Orléans}

\input{header}

\begin{document}

\begin{frame}
    \titlepage 
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Hello world}
    
\begin{columns}[T]
\begin{column}{.3\textwidth} 
\includegraphics[scale=1]{images/jolan.jpg}
\end{column}
\hspace{-1in}
\begin{column}{.7\textwidth}

{\color{white}a}

% {\color{white}a}

Jolan Philippe, Maitre de conférence

Université d'Orléans, équipe LMV

Bureau tbd.

($\lambda$x.$\lambda$y.x@y) jolan.philippe1 univ-orleans.fr

\vspace{1cm}

\end{column}
\end{columns}

Travaux de recherche: vérification formelle de
\vspace{-0.1cm}
\begin{itemize}
    \item Programmes parallèles distribués
    \item Transformation de modèles dans les SI
    \item Déploiement d'infrastructure
\end{itemize}
Plus de détails sur  
\url{https://jolanphilippe.github.io/}
 
\end{frame}
% \maketitle

% ----------------------------------------------------------------------------------

\begin{frame}{Ce qu'on va aborder dans ce cours}

\begin{alertblock}{La philosophie DevOps}
    \begin{itemize}
        \item C'est quoi Dev ? C'est quoi Ops ?
        \item C'est quoi DevOps ?
        \item Un context particulier : le Cloud
    \end{itemize}
\end{alertblock}

\begin{alertblock}{Infrastructure-as-code}
    \begin{itemize}
        \item Conteneurisation avec Docker
        \item Provisionnement avec Terraform
        \item Configuration et gestion avec Ansible
        \item Orchestration avec Kubernetes
    \end{itemize}
\end{alertblock}
 
\end{frame}

% ----------------------------------------------------------------------------------

\section{DevOps késako ?}

% ----------------------------------------------------------------------------------

\begin{frame}{Cycle de développement}

\begin{figure}
    \centering
    \input{figures/cascade}
    \caption{Développement logiciel agile}
\end{figure}
 
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}

\centering {\Huge
\textbf{Personne} ne code sans bug} 
\\
{\large(surtout avec des modifications de code régulières)}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Des bugs, c'est une certitude}

\begin{alertblock}{Windows 10 - Update causant la suppression de fichier}
    \begin{itemize}
        \item \textbf{Problème}: patch effaçant des fichiers utilisateurs lors de redirections de dossiers
        \item \textbf{Prévention}:
            \begin{itemize}
                \item Automatiser les tests, notamment en mockant la migration
                \item Déploiement progressif avec surveillance d'état du système
            \end{itemize}
    \end{itemize}
\end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Des bugs, c'est une certitude}

\begin{alertblock}{Firefox - Expiration d'un certificat désactivant les extensions}
    \begin{itemize}
        \item \textbf{Problème}: expiration d’un certificat de signature d’extensions
        \item \textbf{Prévention}:
            \begin{itemize}
                \item Automatiser des tests réguliers avec utilisation d'une horloge
                \item Surveillance automatisé des dates d'expirations avec des patchs automatiques
            \end{itemize}
    \end{itemize}
\end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Intégration continue et tests automatisés}
\begin{columns}[T,onlytextwidth]
    \begin{column}{.58\linewidth}
      \begin{alertblock}{Qu’est-ce que la CI ?}
        \begin{itemize}
          \item Fusionner le code \textbf{très fréquemment} (plusieurs fois/jour).
          \item Chaque commit déclenche \textbf{build + tests automatiques}.
          \item But : \textbf{détecter tôt} les erreurs et stabiliser le produit.
        \end{itemize}
      \end{alertblock}

    \end{column}

    \begin{column}{.38\linewidth}
      \centering
      % Schéma pipeline CI (simple)
      \begin{tikzpicture}[node distance=6mm,>=stealth,thick]
        \tikzstyle{stpp}=[rectangle,rounded corners,draw,align=center,minimum width=2.6cm,minimum height=0.9cm]
        \node[stpp] (code) {Commit\\Code};
        \node[stpp,below=of code] (build) {Build};
        \node[stpp,below=of build] (tests) {Tests\\(unit., int., lint)};
        \node[stpp,below=of tests,fill=green!20] (ok) {OK = Merge};
        \draw[->] (code) -- (build);
        \draw[->] (build) -- (tests);
        \draw[->] (tests) -- node[right]{\scriptsize pass} (ok);
        \draw[->,red] (tests.east) .. controls +(1,0.6) and +(1,-0.6) .. node[right]{\scriptsize fail} (code.east);
      \end{tikzpicture}
      \vspace{1ex}

      \small \emph{Prépare la suite : tests au déploiement.}
    \end{column}
  \end{columns}
 
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Intégration continue et tests automatisés}

      \begin{alertblock}{Pourquoi automatiser les tests ?}
        \begin{itemize}
          \item \textbf{Réduire les régressions} liées aux patchs/maintenance.
          \item \textbf{Accélérer le feedback} aux développeurs.
          \item \textbf{Standardiser la qualité} (critères objectifs dans la pipeline).
          \item \textbf{Déployer plus souvent} avec confiance (vers CI/CD).
        \end{itemize}
      \end{alertblock}

      % \begin{alertblock}{Message clé}
      %   La CI n’apporte sa valeur que si les \textbf{tests sont automatisés} :
      %   unitaires, intégration, sécurité, performance.
      % \end{alertblock}
\end{frame}

% ----------------------------------------------------------------------------------
\begin{frame}{Tester au déploiement avec Jenkins}
  \begin{columns}[T,onlytextwidth]
    \begin{column}{.58\linewidth}
      \begin{alertblock}{Jenkins}
        \begin{itemize}
          \item \textbf{But :} valider automatiquement chaque changement de code
          \item \textbf{Déclencheurs :} webhooks Git (push/PR)
          \item \textbf{Boucle de feedback :} rapide, standardisée, versionnée.
        \end{itemize}
      \end{alertblock}

      \begin{alertblock}{Automatiser la CI}
        \begin{itemize}    
          \item \textbf{Build} reproductible 
          \item \textbf{Tests} automatisés (unitaires, intégration, lint, ...)
          \item \textbf{Qualité} : seuils (tests, couverture, lint)
          \item \textbf{Artefacts} : packaging, signature, dépôt binaire
          \item \textbf{Rapports} : notifications (chat/mail)
        \end{itemize}
      \end{alertblock}
    \end{column}

    \begin{column}{.38\linewidth}
      \centering
      \input{figures/jenkins}
      \vspace{1ex}
      \small \emph{Jenkins orchestre chaque étape du pipeline.}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}
\vspace{-0.8cm}
\begin{figure}
    % \centering
    \hspace*{-1cm}% décalage vers la gauche
    \includegraphics[scale=0.68]{figures/cycleV.png}
    \caption{Piloter un projet avec un cycle en V}
\end{figure}
 
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{(Vérification formelle de programmes)}

\input{figures/correction}
 
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Le rôle de l'Ops}

 \begin{alertblock}{Qu’est-ce que \textbf{Ops} ?}
    \begin{itemize}
      \item La partie \textbf{Operations} du cycle DevOps.
      \item Responsable de la \textbf{mise en production}, du \textbf{monitoring}, de la \textbf{sécurité}.
      \item Objectif : \textbf{assurer la disponibilité et la fiabilité} du service.
    \end{itemize}
  \end{alertblock}

  \begin{alertblock}{Missions clés}
    \begin{itemize}
      \item Déploiement et exploitation des applications.
      \item Supervision, alertes, gestion des incidents.
      \item Automatisation des tâches d’infra (Infra as Code, scripts).
    \end{itemize}
  \end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Déploiement continu}

  \begin{alertblock}{Pourquoi automatiser le déploiement ?}
    \begin{itemize}
      \item \textbf{Réduire les erreurs humaines} liées aux procédures manuelles.
      \item \textbf{Déployer rapidement et fréquemment} en production.
      \item \textbf{Uniformiser} les environnements.
      \item \textbf{Sécuriser les mises en production} avec rollback rapide.
    \end{itemize}
  \end{alertblock}

Le CD rend le déploiement \textbf{fiable, répétable et rapide}, 
en s’appuyant sur l’automatisation et l’intégration avec la CI.

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Mission du DevOps : Intégration continue et déploiement continu (CI/CD)}
\centering
\includegraphics[scale=0.38]{images/devops.png}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Mission du DevOps : Intégration continue et déploiement continu (CI/CD)}

\centering
\includegraphics[scale=0.69]{images/devopstool.png}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Roadmap}
\centering
\large
\url{https://roadmap.sh/devops} 
 
\end{frame}

% ----------------------------------------------------------------------------------

\section{Infrastructure-as-code}

% ----------------------------------------------------------------------------------

\begin{frame}{Architecture orientée services (SOA)}

    \begin{alertblock}<1->{Définition}
      \begin{itemize}
        \item \textbf{Approche d’architecture logicielle} organisée autour de \textbf{services}.
        \item Un service = une \textbf{fonctionnalité autonome} exposée via une interface standard.
        \item Communication via des protocoles réseau (SOAP, REST, gRCP/RMI, messages).
      \end{itemize}
    \end{alertblock}

    \begin{alertblock}<2->{Principes}
      \begin{itemize}
        \item \textbf{Réutilisabilité} : services mutualisés dans plusieurs applications.
        \item \textbf{Interopérabilité} : indépendants des langages et plateformes.
        \item \textbf{Faible couplage} : évolution indépendante des services.
        \item \textbf{Composition} : services combinés pour former des processus métiers.
      \end{itemize}
    \end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{SOA dans le Cloud}

    \begin{alertblock}<1->{Utilisation dans le cloud}
      \begin{itemize}
        \item Les services sont \textbf{déployés et consommés à la demande}.
        \item Mise en œuvre via des \textbf{APIs exposées en ligne}.
        \item Intégration fréquente avec des \textbf{microservices} et du \textbf{serverless}.
        \item Supportée par des \textbf{plateformes cloud} (\emph{providers}) : AWS, Azure, GCP.
      \end{itemize}
    \end{alertblock}

    \begin{alertblock}<2->{Avantages pour le cloud}
      \begin{itemize}
        \item \textbf{Élasticité} : montée en charge dynamique des services.
        \item \textbf{Scalabilité mondiale} : services accessibles partout.
        \item \textbf{Agilité accrue} : déploiement rapide de nouveaux services.
        \item \textbf{Coût à l’usage} : facturation en fonction de la consommation.
      \end{itemize}
    \end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Réalité: Des Deathstars}
\centering
\includegraphics[scale=0.4]{figures/deathstar.png}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Déployer et maintenir des applications}

\begin{alertblock}{Que faut-il faire ?}
  \begin{itemize}
    \item Préparer \textbf{ses services} pour fonctionner \textbf{de façon atomique}
    \item Préparer \textbf{ses ressources} (n\oe uds physiques/virtuels, VM/containers, 
          réseau, règles de sécurité, secrets/identités).
    \item \textbf{Installer, configurer et démarrer} les services sur ces ressources .
    \item \textbf{Adapter l’infrastructure} aux événements : autoscaling, auto-healing, etc.
  \end{itemize}
\end{alertblock}

\end{frame}
% ----------------------------------------------------------------------------------

\begin{frame}{Déployer et maintenir des applications}

\begin{alertblock}{Challenges}
  \begin{itemize}
    \item \textbf{Gérer les dépendances} : induit un ordre partiel sur les opérations
    \item \textbf{Déployer sans faute} : Avoir des opérations de déploiement atomiques (déployer, mise à jour, supprimer) sûres.
    \item \textbf{Robustesse} : tolérance aux pannes, passage à l'échelle, rollbacks rapides, etc.
    \item \textbf{Sécurité} : secrets/identités, durcissement, moindre privilège, conformité.
    \item \textbf{Impact} : coûts, empreinte carbone, dette opérationnelle, incidents clients.
  \end{itemize}
\end{alertblock}

\end{frame}


% ----------------------------------------------------------------------------------

\begin{frame}{Gérer les dépendances}

\begin{center}
\begin{tikzpicture}
    \node[] (n) {Notation : };
    % \node[step] (commit) {Commit Code};
    \node[draw, rectangle, right=0cm of n, minimum width=2cm, minimum height=0.8cm] (s1) {Service 1 }; 
    \node[draw, rectangle, minimum width=2cm, minimum height=0.8cm, right=1cm of s1] (s2) {Service 2}; 
    \simpleprovideuse{s1}{s2}
    \node[below=0.3cm of s1, xshift=1cm] (t) {
    \begin{tabular}{c}
    Dans ce cas, Service 1 expose son API, qui est utilisée par Service 2.\\
    Service 1 fournit des informations, un service, etc. via son port.\\
    On parle de \emph{provide port} pour Service 1 et de \emph{use port} pour Service 2
    \end{tabular} }; 
\end{tikzpicture}
\end{center}

\begin{columns}[T,onlytextwidth]
    \begin{column}{.6\linewidth}
      \input{figures/soa_dependence} 
    \end{column}
    \begin{column}{.4\linewidth}
    \vspace{-0.1in}
      \begin{alertblock}{Dépendances}
        \begin{itemize}
          \item {\bf S2} dépend de {\bf S1}
          \item {\bf S3} dépend de {\bf S2}
          \item {\bf S4} dépend de {\bf S1} et {\bf S5}
          \item {\bf S5} dépend de {\bf S2}
        \end{itemize}
      \end{alertblock}
    \end{column}
  \end{columns}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Déployer sans faute}

\begin{columns}[T,onlytextwidth]
    \begin{column}{.6\linewidth}
      \input{figures/soa_deploy} 
    \end{column}
    \begin{column}{.4\linewidth}
    \vspace{-0.1in}
      \begin{alertblock}{Relation d'ordre partiel strict}
        \begin{itemize}
            \item Deploy {\bf S1} $>$ Deploy {\bf S2}
            \item Deploy {\bf S2} $>$ Deploy {\bf S3}
            \item Deploy {\bf S2} $>$ Deploy {\bf S5}
            \item Deploy {\bf S4} $>$ Deploy {\bf S1}
            \item Deploy {\bf S4} $>$ Deploy {\bf S5}
        \end{itemize}
      \end{alertblock}
    \end{column}
  \end{columns}
   
\vspace{0.1cm}
   
Exemple de trace: Deploy {\bf S1}; Deploy {\bf S2}; Deploy {\bf S5}; Deploy {\bf S4}; Deploy {\bf S3};

    \vspace{0.3cm}

  \begin{exampleblock}{Rappel}
    \begin{itemize}
      \item \textbf{Irréflexivité} : $\forall a \in E,\; \neg(a < a)$
      \item \textbf{Transitivité} : $\forall a,b,c \in E,\; (a < b \land b < c) \;\Rightarrow\; a < c$
      \item \textbf{Asymétrie} : $\forall a,b \in E,\; (a < b) \;\Rightarrow\; \neg(b < a)$
    \end{itemize}
  \end{exampleblock}
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Replace sans faute}
\vspace{-0.5cm}
    \begin{center}
    \input{figures/soa_update} 
    \end{center}

\begin{columns}[T,onlytextwidth]
    \begin{column}{.45\linewidth}
      \begin{alertblock}{Deploy}
        \begin{itemize}
            \item Deploy {\bf S1} $>$ Deploy {\bf S2}
            \item Deploy {\bf S2} $>$ Deploy {\bf S3}
            \item Deploy {\bf S2} $>$ Deploy {\bf S5}
            \item Deploy {\bf S4} $>$ Deploy {\bf S1}
            \item Deploy {\bf S4} $>$ Deploy {\bf S5}
        \end{itemize}
      \end{alertblock}
    \end{column}
    \begin{column}{.45\linewidth}
    
      \begin{alertblock}{Destroy}
        \begin{itemize}
            \item Destroy {\bf S1} $<$ Destroy {\bf S2}
            \item Destroy {\bf S1} $<$ Destroy {\bf S4}
            \item Destroy {\bf S2} $<$ Destroy {\bf S3}
            \item Destroy {\bf S2} $<$ Destroy {\bf S5}
            \item Destroy {\bf S5} $<$ Destroy {\bf S4}
        \end{itemize}
      \end{alertblock}
    \end{column}
  \end{columns}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Replace sans faute: Graphe de dépendance}
$\forall${\bf S}, Replace {\bf S} := Destroy {\bf S}; Deploy {\bf S}
\vspace{-0.1in}
\begin{columns}[T,onlytextwidth]
    \begin{column}{.4\linewidth}
      \begin{alertblock}{Destroy}
  \begin{itemize}
    \item \small Destroy {\bf S1} $<$ Destroy {\bf S2}
    \item \alert<2>{\small Destroy {\bf S2} $<$ Destroy {\bf S3}}
    \item \alert<2>{\small Destroy {\bf S2} $<$ Destroy {\bf S5}}
    \item \alert<3>{\small Destroy {\bf S5} $<$ Destroy {\bf S4}}
    \item \small Destroy {\bf S1} $<$ Destroy {\bf S4}
  \end{itemize}
\end{alertblock}
\vspace{-0.05in}
\begin{alertblock}{Deploy}
  \begin{itemize}
    \item \small Deploy {\bf S1} $>$ Deploy {\bf S2}
    \item \alert<4>{\small Deploy {\bf S2} $>$ Deploy {\bf S3}}
    \item \alert<4>{\small Deploy {\bf S2} $>$ Deploy {\bf S5}}
    \item \alert<5>{\small Deploy {\bf S5} $>$ Deploy {\bf S4}}
    \item \small Deploy {\bf S4} $>$ Deploy {\bf S1}
  \end{itemize}
\end{alertblock}

    \end{column}
    
    \begin{column}{.5\linewidth}
     \vspace{-0.3cm}
      \input{figures/depgraph}
    \end{column}
  \end{columns}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Robustesse et Sécurité}

\begin{center}
\input{figures/soa_simple}
\end{center}

\begin{alertblock}{Robustesse}
  \begin{itemize}
    \item \textbf{Déclencheur} : Un service (e.g., S2) tombe
    \item \textbf{Action} : Ce service est remplacé
  \end{itemize}
\end{alertblock}

\begin{alertblock}{Sécurité}
  \begin{itemize}
    \item L'utilisateur n'a accès qu'au service façade (e.g., S1)
    \item Les services permettent d'utiliser JRMP (Java Remote Method Protocol) entre eux
  \end{itemize}
\end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Impact}

\begin{alertblock}{Élaborer des stratégies}
Pour avoir des impactes
  \begin{itemize}
    \item Qualité de service (DevOps)
    \item Financier (FinOps)
    \item Sécurité (SecOps)
    \item Énergétique (GreenOps)
  \end{itemize}
\end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Impact}

\begin{alertblock}{Exemple}
Une migration d'une partie de l'infrastructure
  \begin{enumerate}
    \item[1] Garder deux environnements et basculer progressivement les services.
    \item[$\Rightarrow$] Coûteux financièrement mais assure une continuité de service
    \item[2] Supprimer l'ancien environnement progressivement et remplacer les resources au fur et à mesure
    \item[$\Rightarrow$] Peu réduire le coût financier et énergétique au prix d'une interruption de service
  \end{enumerate}
\end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Déployer et maintenir des applications}

\begin{alertblock}{Challenges}
  \begin{itemize}
    \item \textbf{Gérer les dépendances} : induit un ordre partiel sur les opérations
    \item \textbf{Déployer sans faute} : Avoir des opérations de déploiement atomiques (déployer, mise à jour, supprimer) sûres.
    \item \textbf{Robustesse} : tolérance aux pannes, passage à l'échelle, rollbacks rapides, etc.
    \item \textbf{Sécurité} : secrets/identités, durcissement, moindre privilège, conformité.
    \item \textbf{Impact} : coûts, empreinte carbone, dette opérationnelle, incidents clients.
    \item[$\Rightarrow$] \color{red} \textbf{Automatiser} avec l'\textbf{infrastructure-as-code}
  \end{itemize}
\end{alertblock}

\end{frame}
% ----------------------------------------------------------------------------------
\begin{frame}{Infrastructure as Code (IaC)}

  \begin{alertblock}{Définition}
    \begin{itemize}
      \item \textbf{Infrastructure as Code} = pratique consistant à 
      \textbf{décrire et gérer l’infrastructure (réseau, serveurs, VM, containers, règles)} 
      au moyen de code en utilisant
    \begin{itemize}
      \item des \textbf{langages génériques}, ou GPL (General Purpose Language), avec des bibliothèques
      \item des \textbf{langages dédiés}, ou DSL (Domain Specific Language)
      \item des \textbf{langages de configuration} (YAML ou JSON par exemple)
    \end{itemize}
      \item L’infrastructure est donc \textbf{déclarative et reproductible}, plutôt que créée manuellement.
    \end{itemize}
  \end{alertblock}
\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{IaC et DevOps : comment ça marche ?}

  \begin{alertblock}{Dans la pratique}
    \begin{itemize}
      \item Le code d’infrastructure est \textbf{stocké dans Git}, versionné comme le code applicatif.
      \item Les outils (Terraform, Ansible, Pulumi, CloudFormation, etc.) 
            \textbf{appliquent le code} pour provisionner ou mettre à jour les ressources.
      \item Intégration dans les \textbf{pipelines CI/CD} : validation, tests, déploiement automatisé.
      \item Résultat : la création/évolution de l’infra suit le même cycle que le code des Devs 
     \item[] \textit{plan → review → merge → apply}
    \end{itemize}
  \end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------
% ----------------------------------------------------------------------------------

\begin{frame}{IaC et DevOps : comment ça marche ?}

  \input{figures/devops_iac}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{Les rôles des outils d'IaC}

\hspace*{-0.7cm}
\input{figures/steps_iac}

\end{frame}

\begin{frame}{Les rôles des outils d'IaC... Dans un exemple concret}

On veut une \textbf{base de données maitre}, et \textbf{des réplicats} de cette base de données. Ces services sont chacun sur \textbf{une VM différente, sur un noeud différent}. Cependant, tous ces \textbf{noeuds sont connecté en réseau}. Dans le cas où un \textbf{réplicat tombe en panne, il faut en redéployer} un.

\vspace*{0.7cm}

\hspace*{-0.7cm}
\input{figures/steps_iac_bdd}

\end{frame}


\begin{frame}{Les rôles des outils d'IaC... Dans une cuisine ?}

\hspace*{-0.7cm}
\input{figures/steps_iac_cuisine}

\begin{center}
\includegraphics[scale=0.25]{images/Vue-cuisine-3D-face-cuisson-pano-1634649966.jpg}
\end{center}

\end{frame}

% ----------------------------------------------------------------------------------
\begin{frame}{Atouts de l’Infrastructure as Code}

  \begin{alertblock}{Pourquoi adopter l’IaC ?}
    \begin{itemize}
      \item \textbf{Interopérable} : fonctionne sur multi-cloud et on-premise.
      \item \textbf{Réutilisable} : modules et templates factorisables.
      \item \textbf{Versionnable} : suivi dans Git, rollback possible.
      \item \textbf{Automatisable} : intégré aux pipelines CI/CD.
      \item \textbf{Traçable et auditable} : chaque changement est explicite.
      \item \textbf{Scalable et idempotent} : état final garanti, même à grande échelle.
      \item \textbf{Auto-documentant} : le code décrit l’infrastructure.
    \end{itemize}
  \end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------
\begin{frame}{Technologie d’Infrastructure as Code}

\begin{table}[H]
    \centering
    \resizebox{0.85\textwidth}{!}{
    \begin{tabular}{|c|c|c|c|}
\hline
\textbf{Technology} & \textbf{Provisioning} & \textbf{Conf. Mgmt} & \textbf{Orchestration}\\ \hline
Ansible & \OKmark & \OKOKmark & \KOmark \\ 
AWS + CloudFormation (CFN)  & \OKOKmark & \KOmark & \OKmark\\ 
Azure Resource Manager (ARM) & \OKOKmark & \KOmark & \OKmark \\ 
CFEngine & \OKmark & \OKOKmark & \KOmark \\ 
Chef & \OKmark & \OKOKmark & \KOmark \\ 
Google's Infrastructure manager & \OKOKmark & \KOmark & \OKmark\\ 
OpenStack + Heat & \OKOKmark & \KOmark & \OKmark\\ 
Juju  & \OKOKmark & \OKOKmark & \OKOKmark \\
Kubernetes + Manifest & \OKOKmark & \KOmark & \OKOKmark\\ 
Nomad & \OKOKmark & \KOmark & \OKOKmark \\ %
Pulumi & \OKOKmark & \OKmark & \KOmark\\ % Idem Terraform avec langage généraliste. Provision + scripts init. 
Puppet & \OKmark & \OKOKmark & \KOmark \\ % Config déclarative
SaltStack & \OKmark & \OKOKmark & \KOmark \\ %
Terraform & \OKOKmark & \OKmark & \KOmark \\
TOSCA & \OKOKmark & \OKOKmark  & \OKOKmark \\ 
\hline
\end{tabular}
}
\end{table}

\end{frame}


% ----------------------------------------------------------------------------------

\begin{frame}{En résumé}

\begin{alertblock}{Intégration continue / Déploiement continue (CI/CD)}
  \begin{itemize}
        \item \textbf{CI} : build + tests à chaque commit.
      \item \textbf{CD} : déploiement automatisé 
  \end{itemize}
\end{alertblock}

\begin{alertblock}{DevOps}
  \begin{itemize}
    \item Dev = \textbf{garant de l’évolution du service} (innovation, nouvelles fonctionnalités, correction de bugs, qualité logicielle)
    \item Ops = \textbf{garant de la continuité de service} (disponibilité, robustesse, supervision), en lien étroit avec les Devs
  \end{itemize}
\end{alertblock}


\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}{En résumé}

\begin{alertblock}{Architecture orientée services (SOA)}
  \begin{itemize}
    \item Approche modulaire: un service = une fonctionnalité
    \item Utilisation d'API pour composer
    \item Difficile à gérer à cause de la taille
  \end{itemize}
\end{alertblock}

\begin{alertblock}{Infrastructure-as-code}
  \begin{itemize}
    \item Solution pour déployer sous forme de code
    \begin{itemize}
        \item Préparer son application (conteneurisation)
        \item Préparer ses ressources (provisionnement)
        \item Installer son application (gestion de configuration)
        \item Installer son application (orchestration)
    \end{itemize}
    \item Interopérable, réutilisable, versionnable, automatisable, idempotent
  \end{itemize}
\end{alertblock}

\end{frame}

% ----------------------------------------------------------------------------------

\begin{frame}
\begin{figure}
    \centering
    \input{figures/iac}
\end{figure}
\end{frame}

% ----------------------------------------------------------------------------------

\end{document}
